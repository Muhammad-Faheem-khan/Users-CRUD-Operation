{"ast":null,"code":"import \"core-js/modules/es.array.unshift.js\";\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nVue.use(Vuex);\nconst baseUrl = \"https://dummyjson.com\";\nconst endpointUserList = \"/Users\";\nconst endpointAdd = \"/users/add\";\nfunction fetchData(baseUrl, endPoint, method, userData) {\n  const data = fetch(`${baseUrl}${endPoint}`, {\n    method: method,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userData)\n  }).then(res => res.json()).then(data => {\n    return data;\n  });\n  return data;\n}\nexport const store = new Vuex.Store({\n  state: {\n    usersList: []\n  },\n  getters: {\n    getAllUsers() {\n      return store.state.usersList;\n    }\n  },\n  mutations: {\n    userListUpdate(context, userList) {\n      this.state.usersList = userList;\n    },\n    deleteUser(state, id) {\n      const index = this.state.usersList.users.findIndex(user => {\n        return user.id == id;\n      });\n      this.state.usersList.users.splice(index, 1);\n    },\n    addUser(state, userData) {\n      this.state.usersList.users.unshift(userData);\n    },\n    updateUser(state, userData) {\n      const index = this.state.usersList.users.findIndex(user => {\n        return user.id == userData.id;\n      });\n      Vue.set(this.state.usersList.users, index, userData);\n    }\n  },\n  actions: {\n    async userListUpdate(context) {\n      const data = await fetchData(baseUrl, endpointUserList, 'GET');\n      context.commit('userListUpdate', data);\n    },\n    async deleteUser(context, id) {\n      const endpointDelete = `/users/${id}`;\n      const data = await fetchData(baseUrl, endpointDelete, 'DELETE');\n      context.commit('deleteUser', id, data);\n    },\n    async addUser(context, userData) {\n      const data = await fetchData(baseUrl, endpointAdd, 'POST', userData);\n      context.commit('addUser', userData, data);\n    },\n    async updateUser(context, userData) {\n      const endpointUpdate = `/users/${userData.id}`;\n      const data = await fetchData(baseUrl, endpointUpdate, 'PUT', userData);\n      context.commit('updateUser', userData, data);\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","baseUrl","endpointUserList","endpointAdd","fetchData","endPoint","method","userData","data","fetch","headers","body","JSON","stringify","then","res","json","store","Store","state","usersList","getters","getAllUsers","mutations","userListUpdate","context","userList","deleteUser","id","index","users","findIndex","user","splice","addUser","unshift","updateUser","set","actions","commit","endpointDelete","endpointUpdate"],"sources":["C:/Users/s.t/Desktop/practice vue/Users CRUD Operations/src/store.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nVue.use(Vuex)\r\nconst baseUrl = \"https://dummyjson.com\";\r\nconst endpointUserList = \"/Users\"\r\nconst endpointAdd = \"/users/add\"\r\n\r\nfunction fetchData(baseUrl, endPoint, method, userData) {\r\n    const data = fetch(`${baseUrl}${endPoint}`, {\r\n        method: method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(userData)\r\n    })\r\n        .then((res) => res.json())\r\n        .then(data => {\r\n            return data;\r\n        });\r\n    return data\r\n}\r\nexport const store = new Vuex.Store({\r\n    state: {\r\n        usersList: [],\r\n    },\r\n    getters: {\r\n        getAllUsers() {\r\n            return store.state.usersList\r\n        }\r\n\r\n    },\r\n    mutations: {\r\n        userListUpdate(context, userList) {\r\n            this.state.usersList = userList\r\n        },\r\n        deleteUser(state, id) {\r\n            const index = this.state.usersList.users.findIndex((user) => {\r\n                return user.id == id;\r\n            })\r\n            this.state.usersList.users.splice(index, 1)\r\n        },\r\n        addUser(state, userData) {\r\n            this.state.usersList.users.unshift(userData)\r\n        },\r\n        updateUser(state, userData) {\r\n            const index = this.state.usersList.users.findIndex(user => {\r\n                return user.id == userData.id\r\n            })\r\n            Vue.set(this.state.usersList.users, index, userData)\r\n        }\r\n    },\r\n    actions: {\r\n        async userListUpdate(context) {\r\n            const data = await fetchData(baseUrl, endpointUserList, 'GET')\r\n            context.commit('userListUpdate', data)\r\n        },\r\n        async deleteUser(context, id) {\r\n            const endpointDelete = `/users/${id}`\r\n            const data = await fetchData(baseUrl, endpointDelete, 'DELETE')\r\n            context.commit('deleteUser', id, data)\r\n        },\r\n        async addUser(context, userData) {\r\n            const data = await fetchData(baseUrl, endpointAdd, 'POST', userData)\r\n            context.commit('addUser', userData, data)\r\n        },\r\n        async updateUser(context, userData) {\r\n            const endpointUpdate = `/users/${userData.id}`\r\n            const data = await fetchData(baseUrl, endpointUpdate, 'PUT', userData)\r\n            context.commit('updateUser', userData, data)\r\n        },\r\n    }\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}